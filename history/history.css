/* History page styles (migrated from Recent) */
body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
	background-color: #f0f2f5;
	margin: 0;
	padding: 20px;
}
.container {
	max-width: 900px;
	margin: 0 auto;
	background-color: #fff;
	border-radius: 8px;
	box-shadow: 0 2px 4px rgba(0,0,0,0.1);
	padding: 20px;
}
header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	border-bottom: 1px solid #ddd;
	padding-bottom: 15px;
	margin-bottom: 20px;
}
#refresh-btn {
  background-color: #0078e3;
  color: white;
  border: 1px solid #0060df;
}
#refresh-btn:hover { background-color: #0060df; }

/* Group controls on the right side of the header */
.controls {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-left: auto; /* push controls to the right in a flex header */
}

h1 {
	margin: 0;
	font-size: 24px;
}
.controls {
	display: flex;
	gap: 10px;
	align-items: center;
}
#refresh-btn {
  background-color: #0078e3;
  color: white;
  border: 1px solid #0060df;
}
#refresh-btn:hover { background-color: #0060df; }

/* Shared action button styles for history page */
.action-btn {
  font-size: 15px;
  padding: 8px 15px;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
}
#refresh-btn.action-btn,
#hide-applied-btn.action-btn {
  display: inline-block;
  box-sizing: border-box;
  font-size: 15px;
  padding: 8px 15px;
  border-radius: 5px;
}
#refresh-btn {
  background-color: #0078e3;
  color: white;
  border: 1px solid #0060df;
}
#refresh-btn:hover { background-color: #0060df; }
#hide-applied-btn {
  background-color: #6c757d;
  color: #fff;
  border: 1px solid #6c757d;
}
#hide-applied-btn:hover {
  background-color: #5a6268;
  border-color: #545b62;
}
/* Decent Only button shares neutral styling */
#decent-only-btn {
  background-color: #6c757d;
  color: #fff;
  border: 1px solid #6c757d;
}
#decent-only-btn:hover {
  background-color: #5a6268;
  border-color: #545b62;
}

/* Row list */
.job-row { position: relative; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px; padding: 12px; transition: box-shadow 0.2s, background-color 0.2s, border-color 0.2s; background-color: #fff; }
.job-row.expanded { box-shadow: 0 6px 16px rgba(0,0,0,0.12); background-color: #f9fbff; border-color: #cfe0fb; }
.job-row.expanded::before { content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: #2563eb; border-top-left-radius: 6px; border-bottom-left-radius: 6px; }
.job-row.applied { border-color: #86d39b; }
.job-row.applied { border: 4px solid #198754; }
.row-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; gap: 12px; }
.row-title { font-size: 16px; font-weight: 600; }
.row-right { display: flex; gap: 12px; align-items: baseline; }
.row-fractions { font-size: 12px; color: #444; display: flex; gap: 10px; }
.fraction { background: #f1f5fb; border: 1px solid #d7e3f7; padding: 2px 6px; border-radius: 4px; }
.fraction-req { border-color: #cce5ff; }
.fraction-add { border-color: #e2e3e5; }
.fraction-good { background: #e6f8ed; border-color: #c7eed8; color: #1e7e34; }
.fraction-ok { background: #fff8e6; border-color: #ffe9a8; color: #996c00; }
.fraction-bad { background: #fdecea; border-color: #f5c6cb; color: #a71d2a; }
.fraction-empty { background: #f8f9fa; border-color: #e2e3e5; color: #6c757d; }
.row-location { font-size: 13px; color: #555; }
.row-submeta { font-size: 12px; color: #888; margin-top: 4px; }
.job-url { font-size: 12px; color: #666; margin-top: 4px; word-break: break-all; }

/* Details table */
.details-container { display: none; margin-top: 12px; padding-top: 10px; border-top: 1px solid #eee; }
.job-data-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
.job-data-table td { padding: 8px; border: 1px solid #ddd; text-align: left; vertical-align: top; }
.job-data-table td:first-child { font-weight: 600; color: #555; width: 120px; }

.empty { color: #666; font-style: italic; text-align: center; margin-top: 40px; }

/* Sticky header for expanded rows */
.job-row.expanded .row-header {
	position: sticky;
	top: var(--nav-height, 44px);
	z-index: 6;
	background: inherit;
	padding: 12px;
	margin: -12px -12px 0 -12px;
	border-bottom: 1px solid #e6ecf5;
}

/* Qualification tables */
h4 { margin-top: 20px; margin-bottom: 5px; color: #333; border-bottom: 1px solid #eee; padding-bottom: 5px; display: flex; justify-content: space-between; align-items: center; }
.qualification-table { width: 100%; border-collapse: collapse; font-size: 13px; }
.qualification-table th, .qualification-table td { padding: 8px; border: 1px solid #ddd; text-align: left; vertical-align: top; }
.qualification-table th { background-color: #f2f2f2; font-weight: 600; }
.qualification-table th:nth-child(1), .qualification-table td:nth-child(1) { width: 40%; }
.qualification-table th:nth-child(2), .qualification-table td:nth-child(2) { width: 15%; text-align: center; }
.qualification-table th:nth-child(3), .qualification-table td:nth-child(3) { width: 45%; }
.match-yes { color: #28a745; font-weight: bold; }
.match-no { color: #dc3545; font-weight: bold; }
.match-fraction { font-size: 13px; font-weight: normal; color: #666; margin-left: 8px; }
.job-description { max-height: 250px; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word; background-color: #f7f7f7; padding: 10px; border-radius: 4px; font-size: 13px; line-height: 1.5; color: #444; border: 1px solid #e1e1e1; }
.copy-button { width: auto; margin-bottom: 0; padding: 2px 8px; font-size: 12px; background-color: #e9e9e9; color: #333; border: 1px solid #ccc; cursor: pointer; }
.copy-button:hover { background-color: #dcdcdc; border-color: #bbb; }
.regen-button { background-color: #6c757d; border: 1px solid #6c757d; color: #fff; padding: 4px 8px; border-radius: 4px; cursor: pointer; }
.regen-button:hover { background-color: #5a6268; border-color: #545b62; }
.details-action-bar { display: flex; gap: 12px; align-items: center; margin: 8px 0; }
.details-action-bar .applied-button { margin-left: auto; background-color: #198754; border: 1px solid #198754; color: #fff; }
.details-action-bar .applied-button:hover { background-color: #157347; border-color: #146c43; }
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background-color: #f0f2f5;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: 0 auto;
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  padding: 20px;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #ddd;
  padding-bottom: 15px;
  margin-bottom: 20px;
}
h1 {
  margin: 0;
  font-size: 24px;
}
#clear-history-btn {
  background-color: #dc3545;
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 5px;
  cursor: pointer;
}
#clear-history-btn:hover {
  background-color: #c82333;
}

/* Row list (match Recent page) */
.job-row { position: relative; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px; padding: 12px; transition: box-shadow 0.2s, background-color 0.2s, border-color 0.2s; background-color: #fff; }
.job-row.expanded { box-shadow: 0 6px 16px rgba(0,0,0,0.12); background-color: #f9fbff; border-color: #cfe0fb; }
.job-row.expanded::before { content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: #2563eb; border-top-left-radius: 6px; border-bottom-left-radius: 6px; }
.job-row.applied { border-color: #86d39b; }
.job-row.applied { border: 4px solid #198754; }
.row-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; gap: 12px; }
.row-title { font-size: 16px; font-weight: 600; }
.row-right { display: flex; gap: 12px; align-items: baseline; }
.row-fractions { font-size: 12px; color: #444; display: flex; gap: 10px; }
.fraction { background: #f1f5fb; border: 1px solid #d7e3f7; padding: 2px 6px; border-radius: 4px; }
.fraction-req { border-color: #cce5ff; }
.fraction-add { border-color: #e2e3e5; }
.fraction-good { background: #e6f8ed; border-color: #c7eed8; color: #1e7e34; }
.fraction-ok { background: #fff8e6; border-color: #ffe9a8; color: #996c00; }
.fraction-bad { background: #fdecea; border-color: #f5c6cb; color: #a71d2a; }
.fraction-empty { background: #f8f9fa; border-color: #e2e3e5; color: #6c757d; }
.row-location { font-size: 13px; color: #555; }
.row-submeta { font-size: 12px; color: #888; margin-top: 4px; }
.job-url { font-size: 12px; color: #666; margin-top: 4px; word-break: break-all; }

/* Status dot */
.status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; align-self: center; }
.status-completed { background-color: #28a745; }
.status-processing { background-color: #007bff; }
.status-queued { background-color: #6c757d; }
.status-error { background-color: #dc3545; }

/* Details container */
.details-container { display: none; margin-top: 12px; padding-top: 10px; border-top: 1px solid #eee; }

/* --- REUSED STYLES FOR DETAILS (from sidebar.css) --- */
h4 {
  margin-top: 20px;
  margin-bottom: 5px;
  color: #333;
  border-bottom: 1px solid #eee;
  padding-bottom: 5px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.job-data-table, .qualification-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.job-data-table td, .qualification-table td, .qualification-table th {
  padding: 8px;
  border: 1px solid #ddd;
  text-align: left;
  vertical-align: top;
}
.job-data-table td:first-child {
  font-weight: 600;
  color: #555;
  width: 120px; /* A bit wider for the larger page */
}
.qualification-table th {
  background-color: #f2f2f2;
  font-weight: 600;
}
.qualification-table th:nth-child(1), .qualification-table td:nth-child(1) { width: 40%; }
.qualification-table th:nth-child(2), .qualification-table td:nth-child(2) { width: 15%; text-align: center; }
.qualification-table th:nth-child(3), .qualification-table td:nth-child(3) { width: 45%; }
.job-description {
  max-height: 200px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
  background-color: #f7f7f7;
  padding: 10px;
  border-radius: 4px;
  font-size: 13px;
  line-height: 1.5;
}
.match-fraction {
  font-size: 13px;
  font-weight: normal;
  color: #666;
  margin-left: 8px;
}
.match-yes { color: #28a745; font-weight: bold; }
.match-no { color: #dc3545; font-weight: bold; }
.match-partial { color: #fd7e14; font-weight: bold; }

.copy-button {
  /* Override default button styles */
  width: auto;
  margin-bottom: 0;
  padding: 2px 8px;
  font-size: 12px;
  background-color: #e9e9e9;
  color: #333;
  border: 1px solid #ccc;
  cursor: pointer;
}

.copy-button:hover {
  background-color: #dcdcdc;
  border-color: #bbb;
}

/* Sticky header for expanded rows */
.job-row.expanded .row-header {
  position: sticky;
  top: var(--nav-height, 44px); /* sit directly under nav */
  z-index: 6;
  background: inherit;
  padding: 12px;
  margin: -12px -12px 0 -12px; /* keep visual alignment due to sticky stacking */
  border-bottom: 1px solid #e6ecf5;
}

/* Action bar and Applied button styling to match Recent */
.details-action-bar { display: flex; gap: 12px; align-items: center; margin: 8px 0; }
.regen-button { background-color: #6c757d; border: 1px solid #6c757d; color: #fff; padding: 4px 8px; border-radius: 4px; cursor: pointer; }
.regen-button:hover { background-color: #5a6268; border-color: #545b62; }
.details-action-bar .applied-button { margin-left: auto; background-color: #198754; border: 1px solid #198754; color: #fff; }
.details-action-bar .applied-button:hover { background-color: #157347; border-color: #146c43; }